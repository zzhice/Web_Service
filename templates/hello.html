<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Wheretoeat</title>
    <link rel="stylesheet" href="https://cdn.bootcss.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
    <style type="text/css">
        #run {
            width: 20%;
            margin-top: 10px;
        }
        #code{
            resize: none;
        }
        #output{
            resize: none;
        }
        body{
            background-image: url("https://www.ylmfu.com/zhuti/UploadPic/2017-3/20173514493326558.jpg");
            background-size: cover;
        }
        .text-yellow {
            color: gold;
        }
    </style>
  </head>
  <body>
    <div class="container">
        <div class="row">
            <div class="col-md-12">
                <p class="text-center h1 text-yellow">
                    Start to make your decision
                </p>
            </div>
        </div>
    </div>
    </hr>
    <div class="row">
        <div class="col-md-6">
            <p class="text-center h3 text-yellow">Enter your preference</p>
            <textarea id="code" class="form-control" placeholder="Italian Chinese"></textarea>
            <div class="text-right"><button id="run" type="button" class="btn btn-primary">Search</button></div>
        </div>
        <div class="col-md-6">
            <p class="text-center h3 text-yellow">Result</p>
            <div class="col-lg-12"><textarea id="output" disabled placeholder="Please enter your description and click <Search> button to excute your script" class="text-center form-control"></textarea> </div>
        </div>
    </div>
    <script src="https://cdn.bootcss.com/jquery/1.12.4/jquery.min.js"></script>
    <script src="https://cdn.bootcss.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
  </body>
</html>
<script>
    function changeSize(ele) {
        $(ele).css({'height':'auto','overflow-y':'hidden'}).height(ele.scrollHeight)
    }
    $('#code').each(function () {
        this.oninput = function () {
            changeSize(this)
        }
    })
    function getCode() {
        return $('#code').val()
    }
    function print(data) {
        var output = document.getElementById('output')
        output.value = data['output']
        changeSize(output)
    }
    $('#run').click(function () {
        $.ajax({
            url:'/get_json/',
            type:'POST',
            data:{'code':getCode()},
            dataType: 'json',
            success: print
        })
    })
</script>